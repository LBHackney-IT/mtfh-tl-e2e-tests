[
  {
    "description": "         I want to confirm that all relevant supporting documents have been uploaded for a Sole to Joint application\n         So that I can evidence that the applicant is eligible",
    "keyword": "Feature",
    "name": "As an internal Hackney user",
    "line": 1,
    "id": "as-an-internal-hackney-user",
    "tags": [],
    "uri": "tenureReviewDocuments.feature",
    "elements": [
      {
        "id": "as-an-internal-hackney-user;ac1.1:-request-in-person-appointment-(for-documents-requested-via-des)",
        "keyword": "Scenario",
        "line": 23,
        "name": "AC1.1: Request in person appointment (for documents requested via DES)",
        "tags": [],
        "type": "scenario",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 6,
            "name": "I am logged in",
            "result": {
              "status": "passed",
              "duration": 4556000000
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 7,
            "name": "I create a new \"SEC\" tenure",
            "result": {
              "status": "passed",
              "duration": 425000000
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I create person and add to a tenure \"true\"",
            "result": {
              "status": "passed",
              "duration": 1158000000
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "I create person and add to a tenure \"\"",
            "result": {
              "status": "passed",
              "duration": 1185000000
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 24,
            "name": "I would like to check submitted documents in person for tenure",
            "result": {
              "status": "passed",
              "duration": 9570000000
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 25,
            "name": "I tick the checkbox to arrange an in person appointment to view the documents",
            "result": {
              "status": "passed",
              "duration": 211000000
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 26,
            "name": "I can input an appointment date and time",
            "result": {
              "status": "passed",
              "duration": 2375000000
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 27,
            "name": "I can confirm the appointment has been arranged",
            "result": {
              "status": "passed",
              "duration": 879000000
            }
          }
        ]
      },
      {
        "id": "as-an-internal-hackney-user;ac1.2:-confirm-documents-have-been-seen-(for-documents-requested-via-des)",
        "keyword": "Scenario",
        "line": 29,
        "name": "AC1.2: Confirm documents have been seen (for documents requested via DES)",
        "tags": [],
        "type": "scenario",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 6,
            "name": "I am logged in",
            "result": {
              "status": "passed",
              "duration": 313000000
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 7,
            "name": "I create a new \"SEC\" tenure",
            "result": {
              "status": "passed",
              "duration": 442000000
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I create person and add to a tenure \"true\"",
            "result": {
              "status": "passed",
              "duration": 1252000000
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "I create person and add to a tenure \"\"",
            "result": {
              "status": "passed",
              "duration": 1307000000
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 30,
            "name": "the documents have been provided by the resident for tenure",
            "result": {
              "status": "passed",
              "duration": 9495000000
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 31,
            "name": "Next button is disabled",
            "result": {
              "status": "passed",
              "duration": 47000000
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 32,
            "name": "I can complete the checklist of seen supporting documents are correct and valid",
            "result": {
              "status": "passed",
              "duration": 867000000
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 33,
            "name": "Next button is enabled and user can proceed to the next step",
            "result": {
              "status": "passed",
              "duration": 49000000
            }
          }
        ]
      },
      {
        "id": "as-an-internal-hackney-user;ac4:-closing-the-case-at-the-review-documents-stage",
        "keyword": "Scenario",
        "line": 35,
        "name": "AC4: Closing the case at the Review Documents stage",
        "tags": [],
        "type": "scenario",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 6,
            "name": "I am logged in",
            "result": {
              "status": "passed",
              "duration": 188000000
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 7,
            "name": "I create a new \"SEC\" tenure",
            "result": {
              "status": "passed",
              "duration": 455000000
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I create person and add to a tenure \"true\"",
            "result": {
              "status": "passed",
              "duration": 1878000000
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "I create person and add to a tenure \"\"",
            "result": {
              "status": "passed",
              "duration": 1139000000
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 36,
            "name": "the applicant has failed the supporting documents check for tenure",
            "result": {
              "status": "failed",
              "error_message": "TypeError: The following error originated from your test code, not from Cypress. It was caused by an unhandled promise rejection.\n\n  > Cannot read properties of undefined (reading 'then')\n\nWhen Cypress detects uncaught errors originating from your test code it will automatically fail the current test.\n    at eval (http://local.hackney.gov.uk:9000/__cypress/tests?p=cypress/integration/tenureReviewDocuments.feature:2886:38)\n    at getRet (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:153140:20)\n    at Context.thenFn (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:153158:63)\n    at Context.then (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:153610:21)\n    at Context.<anonymous> (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:169912:23)\n    at http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:168605:17\n    at runCommand (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:168584:10)\n    at next (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:168727:16)\n    at http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:168756:18\nFrom previous event:\n    at Object.run (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:182906:23)\n    at Object.run (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:168782:17)\n    at cy.<computed> [as then] (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:169952:19)\n    at __stackReplacementMarker (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:169260:13)\n    at runnable.fn (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:170176:23)\n    at callFn (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:122963:21)\n    at ../driver/node_modules/mocha/lib/runnable.js.Runnable.run (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:122950:7)\n    at http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:176739:30\nFrom previous event:\n    at Object.onRunnableRun (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:176724:19)\n    at $Cypress.action (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:166256:28)\n    at Runnable.run (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:174428:13)\n    at ../driver/node_modules/mocha/lib/runner.js.Runner.runTest (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:123622:10)\n    at http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:123748:12\n    at next (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:123531:14)\n    at http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:123541:7\n    at next (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:123443:14)\n    at Hook.<anonymous> (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:123504:7)\n    at next (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:176649:24)\n    at http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:176678:13\nFrom previous event:\n    at onNext (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:176675:59)\n    at done (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:122903:5)\n    at callFn (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:122986:7)\n    at ../driver/node_modules/mocha/lib/runnable.js.Runnable.run (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:122950:7)\n    at http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:176739:30\nFrom previous event:\n    at Object.onRunnableRun (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:176724:19)\n    at $Cypress.action (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:166256:28)\n    at Runnable.run (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:174428:13)\n    at next (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:123465:10)\n    at http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:123509:5\n    at timeslice (http://local.hackney.gov.uk:9000/__cypress/runner/cypress_runner.js:117435:27)"
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 37,
            "name": "I decide to close the case",
            "result": {
              "status": "skipped"
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 38,
            "name": "an overlay pops up and I must give a reason for rejection",
            "result": {
              "status": "skipped"
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 39,
            "name": "I will click on Close case once the rejection is given",
            "result": {
              "status": "skipped"
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 40,
            "name": "I will confirm that the outcome letter has been sent and case will be closed",
            "result": {
              "status": "skipped"
            }
          }
        ]
      },
      {
        "id": "as-an-internal-hackney-user;ac1-submit-the-case-for-tenure-investigation-review",
        "keyword": "Scenario",
        "line": 44,
        "name": "AC1 Submit the case for Tenure investigation review",
        "tags": [],
        "type": "scenario",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 6,
            "name": "I am logged in",
            "result": {
              "status": "passed",
              "duration": 130000000
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 7,
            "name": "I create a new \"SEC\" tenure",
            "result": {
              "status": "passed",
              "duration": 335000000
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "I create person and add to a tenure \"true\"",
            "result": {
              "status": "passed",
              "duration": 961000000
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "I create person and add to a tenure \"\"",
            "result": {
              "status": "passed",
              "duration": 895000000
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 45,
            "name": "I have completed document upload for Sole to Joint for tenure",
            "result": {
              "status": "passed",
              "duration": 12419000000
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 46,
            "name": "the Active status should be Submit case",
            "result": {
              "status": "passed",
              "duration": 707000000
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 47,
            "name": "I am shown the expandable accordions of the previously completed steps Eligibility checks passed and Supporting documents approved",
            "result": {
              "status": "passed",
              "duration": 132000000
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 48,
            "name": "I can view the Tenure Investigation disclaimer",
            "result": {
              "status": "passed",
              "duration": 32000000
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 49,
            "name": "I click the Submit case button",
            "result": {
              "status": "passed",
              "duration": 172000000
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 50,
            "name": "I am on the Next Steps page",
            "result": {
              "status": "passed",
              "duration": 740000000
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 51,
            "name": "the status is Finish",
            "result": {
              "status": "passed",
              "duration": 39000000
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 52,
            "name": "I click on Continue button",
            "result": {
              "status": "passed",
              "duration": 253000000
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 53,
            "name": "I can see the text 'I confirm that the tenure investigation has been completed'",
            "result": {
              "status": "passed",
              "duration": 80000000
            }
          }
        ]
      }
    ]
  }
]